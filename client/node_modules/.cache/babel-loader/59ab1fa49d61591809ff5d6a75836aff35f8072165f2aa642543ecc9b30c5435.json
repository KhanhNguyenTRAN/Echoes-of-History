{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\EchoesOfHistory\\\\client\\\\src\\\\components\\\\SearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchBar = ({\n  characters\n}) => {\n  _s();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredCharacters, setFilteredCharacters] = useState([]);\n  const searchRef = useRef(null);\n  const navigate = useNavigate();\n\n  // Filter characters based on search query\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setFilteredCharacters([]);\n    } else {\n      const filtered = characters.filter(character => character.name.toLowerCase().includes(searchQuery.toLowerCase())).slice(0, 3); // Display up to 3 suggestions\n      setFilteredCharacters(filtered);\n    }\n  }, [searchQuery, characters]);\n\n  // Handle user selecting a character\n  const handleCharacterSelect = characterId => {\n    navigate(`/character/${characterId}`); // Redirect to the character detail page\n  };\n\n  // Handle click outside of search input to close suggestions\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setFilteredCharacters([]); // Close suggestions when clicking outside\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute top-20 right-10 w-full max-w-xs z-20\",\n    ref: searchRef,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"w-full text-white bg-transparent border border-orange-300 px-4 py-2 rounded-lg pr-10\",\n      placeholder: \"Search for a character...\",\n      value: searchQuery,\n      onChange: e => setSearchQuery(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FaSearch, {\n      className: \"absolute right-4 top-1/2 transform -translate-y-1/2 text-orange-300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), filteredCharacters.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"absolute text-white bg-black bg-opacity-70 border border-orange-300 rounded-lg w-full mt-1 max-h-48 overflow-auto z-30\",\n      children: filteredCharacters.map(character => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"p-2 cursor-pointer hover:bg-gray-100 hover:text-black\",\n        onClick: () => handleCharacterSelect(character._id),\n        children: character.name\n      }, character._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBar, \"tc+L14OzAnbL2+92/e8xI5dUnSI=\", false, function () {\n  return [useNavigate];\n});\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","FaSearch","useNavigate","jsxDEV","_jsxDEV","SearchBar","characters","_s","searchQuery","setSearchQuery","filteredCharacters","setFilteredCharacters","searchRef","navigate","trim","filtered","filter","character","name","toLowerCase","includes","slice","handleCharacterSelect","characterId","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","ref","children","type","placeholder","value","onChange","e","fileName","_jsxFileName","lineNumber","columnNumber","length","map","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Project/EchoesOfHistory/client/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst SearchBar = ({ characters }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filteredCharacters, setFilteredCharacters] = useState([]);\r\n  const searchRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Filter characters based on search query\r\n  useEffect(() => {\r\n    if (searchQuery.trim() === '') {\r\n      setFilteredCharacters([]);\r\n    } else {\r\n      const filtered = characters\r\n        .filter((character) =>\r\n          character.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n        )\r\n        .slice(0, 3); // Display up to 3 suggestions\r\n      setFilteredCharacters(filtered);\r\n    }\r\n  }, [searchQuery, characters]);\r\n\r\n  // Handle user selecting a character\r\n  const handleCharacterSelect = (characterId) => {\r\n    navigate(`/character/${characterId}`); // Redirect to the character detail page\r\n  };\r\n\r\n  // Handle click outside of search input to close suggestions\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setFilteredCharacters([]); // Close suggestions when clicking outside\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className=\"absolute top-20 right-10 w-full max-w-xs z-20\"\r\n      ref={searchRef}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"w-full text-white bg-transparent border border-orange-300 px-4 py-2 rounded-lg pr-10\"\r\n        placeholder=\"Search for a character...\"\r\n        value={searchQuery}\r\n        onChange={(e) => setSearchQuery(e.target.value)}\r\n      />\r\n      <FaSearch className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-orange-300\" />\r\n\r\n      {filteredCharacters.length > 0 && (\r\n        <ul className=\"absolute text-white bg-black bg-opacity-70 border border-orange-300 rounded-lg w-full mt-1 max-h-48 overflow-auto z-30\">\r\n          {filteredCharacters.map((character) => (\r\n            <li\r\n              key={character._id}\r\n              className=\"p-2 cursor-pointer hover:bg-gray-100 hover:text-black\"\r\n              onClick={() => handleCharacterSelect(character._id)}\r\n            >\r\n              {character.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}